

# はじめに

（AnkiDroid v2.0.1リリース時に一部追加、修正　2013-02-09）

AnkiDroid2.0へバージョンアップして、大幅に改善された新しい機能を使用するためには、AnkiDroid1.xの単語帳のフォーマットの変換が必要になります

AnkiDroid1.xの他に、パソコンでAnki（AnkiDesktop）を使用している場合や、AnkiWebを使用している場合には、それぞれver2.0以降のものにバージョンアップする必要があります。
パソコン用のAnkiDesktopのバージョンアップ情報は[こちら](http://ankisrs.net/anki2.html)を参照. 新しいWebは[こちら](https://ankiweb.net)を参照。

注）Anki（AnkiDesktop）はパソコンにインストールして使用するソフトで、単語帳の作成やカスタマイズの他、仮想サーバ(web server)を経由してアンドロイド端末（スマホ用AnkiDroid）やiPhone(AnkiMobile)と、単語帳のデータを共有（一元管理）することができます。

Anki2（AnkiDesktop2.0）も大幅に機能が改善され、単語帳の作成、カスタマイズ機能なども多数追加されています。新しい単語帳の機能を使用すれば、AnkiDroid2.0での学習スタイルに根本的な変化をもたらします。ぜひ、[こちら](http://ankisrs.net/docs/changes.html)を参考にしてください。


# 単語帳をアップグレード
新しいAnki2形式に単語帳をアップグレードするには、主に2つの方法があります。詳細は下の手順を見てください。次に進む前に、AnkiDroidの最新バージョンを使用していることを確認して下さい(現在は、v2.0.1)

いずれの方法も、古い単語帳はアンドロイド端末に残りますので、失敗した場合にはあわてずに、別の方法でアップグレードしてください。

第１の方法（推奨の方法）：既にWebサーバー経由でAnkiDroid1.xと、パソコン上のAnki1.x（AnkiDesktop1.x）を使って単語帳を同期させている場合はこの方法が簡単なので、お勧めします。
パソコンと同期させて、単語帳をAnki1.xへ保管した後、Anki2.0（AnkiDesktop2.0）をインストールして、同時に単語帳を新しいフォーマットへ変換します。その後、Webサーバー経由で新しい単語帳をAnkiDroid2.0へ同期させるか、USB経由でアンドロイド端末へコピーします。
Anki1.x（AnkiDesktop1.x）を使用していない場合には、Anki2.0（AnkiDesktop2.0）をインストールした後に転送する方法（Step by Step）を、参照してください。

~~第２の方法は、AnkiDroidからWebサーバーに単語帳ををアップロードして、自動的に新しい単語帳に変換した後、AnkiDroidへダウンロードする方法です。しかし、メディアファイル名の重複に対応できない事と、単語帳の合計サイズ（圧縮後のサイズが50MB以下）にも限界があるため、この方法は推奨できません。もし、パソコン上のAnkiDesktopを使用したことがない場合などは、単語帳のサイズはとても小さいく、メディア（画像や音声ファイル）も使用していないと思われますので、この方法が一番簡単かもしれません。しかし、パソコンを使いAnkiDroid2.0を使用できる環境にある場合は、「第１の方法」でアップグレードを実施してください。~~

## 方法1：パソコンソフトAnki2.0（AnkiDesktop2.0)を使用する方法（推奨）
### オプション1：USB接続を使用（推奨）
  1. 既に[Anki Desktop v1.x](http://code.google.com/p/anki/downloads/detail?name=anki-1.2.8.exe)がインストールされているならば、アンドロイド端末の　/mnt/sdcard/AnkiDroidフォルダから、全ての単語帳ファイル(`*`.anki)をパソコンの「マイドキュメント」のAnki １ フォルダにコピーします。
  1. メディアファイルを使う場合、アンドロイド端末の　/mnt/sdcard/AnkiDroidフォルダから、全てのメディアフォルダー(単語帳の名前.media)をパソコンの「マイドキュメント」のAnkiフォルダにコピーします
  1. 念のためデータをチェックしておきます（Anki1.xを起動して、「ツール」> 「メンテナンス」>「データベースをチェック」）
  1. 最新バージョンのAnki2.xをインストールしてください　http://ankisrs.net
  1. Anki2.xを実行し、指示に従って単語帳をアップグレードしてください（自動的に単語帳が変換されない場合には「Step by step」を参照してください）
  1. 全てのアップグレードされた単語帳をエクスポートします　（Anki2.xから「ファイル」>「書き出す」）
  1. 設定を変更せずに「書き出す」ボタンをクリックします。
  1. ファイル名と保存先を選択するように求められます。"collection.apkg"などの名前を付けて、デスクトップなどに保存します。
  1. この"collection.apkg"をアンドロイド端末の/mnt/sdcard、にコピーしてください
  1. AnkiDroid2.xをインストールします（[Google Play](https://play.google.com/store/apps/details?id=com.ichi2.anki)または [APK](http://code.google.com/p/ankidroid/downloads)から）
  1. AnkiDroid2.xを開きます
  1. 画面には、変更の一覧が表示されますので、続行します。
  1. アップグレードの手順が表示されます。
  1. PCとUSBを使ったアップグレードを選択してください。
  1. AnkiDroid2.xのMENU画面から "インポート"（読み込み）を選択してください
  1. 単語帳（コレクション）のインポートが完了します
### オプション2：既にAnkiWebとの同期を利用している場合：
この方法は提供停止です。

## 方法2：AnkiWebを使ってアップグレード（PCなしでのアップグレード）
この方法は提供停止です。

# なにか操作を間違えた場合などの処置
安心してください。AnkiDroid2をインストールしても、古い単語帳は削除されません。古い単語帳はAnkiDroidフォルダ内に残っています。
まず、パソコン上にそれらのファイルのバックアップのためのコピーを作成してください。
アップグレードは何度でも実行できます。AnkiDroid のメニュー画面の"Restart upgrade process"を選択すれば、アップグレードが再起動します。
単語帳が正常にアップグレードされても、メディアファイル（音声、画像etc）が正常に動作しない場合は、アップグレード方法１のオプション1を繰り返してください。あるいは、手動で個々「単語帳の名前.media」フォルダから、新しく作成された「collection.media」フォルダへ、
それらをすべてコピーしてください。その場合は、ファイル名に競合がないことが必要です。（AnkiDroid2.0では音声ファイル、画像ファイルは、すべて「collection.media」フォルダの一箇所に保管して利用することになりますので、同じファイル名は使えなくなります）

# Step by Step
上記のアップグレードマニュアルに従ってアップグレードしても、問題がある場合には、以下の「ステップバイステップ」の手順に従ってください。その前に、AnkiDroidの最新バージョンがインストールされていることを確認してください！

このガイドでは、Windowsパソコンユーザを前提にしています。
15-60分の作業時間です。アンキ/ Ankidroid /パソコンに精通しているものとして解説します。
このガイドに従った後でも問題が発生した場合は、新しいスレッドを作成するのではなく、[ここ](https://groups.google.com/forum/#!topic/anki-android/Zd7rZhExGd0)に投稿してください。

### パートA：古いAnkiDroidファイルをPCにコピーする（バックアップする）
  1. USBケーブルでPCに携帯（デバイス）を接続します
  1. パソコンのファイルエクスプローラを開き、あなたのAndroid携帯のフォルダーをを開きます
  1. 携帯のフォルダの中に "AnkiDroid"というフォルダが存在するはずです
  1. この "AnkiDroid"フォルダをすべてパソコンの任意の場所にコピーします（デスクトップなどへコピーしておく）


### パートB：Ankiデスクトップソフトウェアを使用して古いデッキをアップグレードします。
  1. http://ankisrs.net/anki2.html（アンキ-2.0.4.exe）から最新アンキ・デスクトップ・ソフトウェアをパソコンにインストールします
  1. インストールしたAnkiのデスクトップソフトウェアを開きます
  1. このAnkiのデスクトップソフトウェアで、「ファイル」 - >「読み込む」
  1. 「ファイルの種類」を（> "Anki 1.2(`*`.anki) `*`.anki　を保管した場所を開いて、`*`.anki　ファイルを選択してください
  1. AnkiDroidフォルダ内の他の`*`.anki　ファイルにも同じことを行います
  1. エラーが発生した場合[こちら](http://ankisrs.net/docs/manual.html#manualupgrade)を参照してください
  1. あなたのデッキのすべてがAnkiデスクトップソフトウェアに表示されていることを確認してください


### パートC：アップグレードデッキをお使いのデバイスに戻す（コピーする）
  1. パソコン上のアンキDesktopソフトウェアの[ファイル] - > [書き出す]、Anki単語帳パッケージ(`*`.akpg)。対象：全ての単語帳を選択して、"書き出し"ボタンをクリック
  1. この操作で "collection.apgk"ファイルがデスクトップに保存されているはずです
  1. 次にデスクトップフォルダーから、"collection.apgk"ファイルを携帯へ「コピー」します。コピーする方法はいくつかありますが、ここでは右クリックから「コピー」を選択し、ステップ6) で「貼り付け」します
  1. Windowsエクスプローラでもう一度あなたの携帯のフォルダを開く
  1. AnkiDroidフォルダに移動
  1. 右クリックから[貼り付け]を選ぶと "collection.apgk"ファイルがコピーされます（貼り付きます）
  1. ここで、携帯のAnkiDroidを起動し、メニュー画面から"カードのインポート"を選択して指示に従い。「OK」をタップしてください

すべての単語帳がインポートされ、表示されるはずです。

### パートD：アンドロイド端末から全てのメディア（音声ファイル、画像ファイル）を "collection.media"フォルダに移動します
メディアを使用しない場合は、その必要はありません

  1. Windowsエクスプローラで、アンドロイド端末上AnkiDroidフォルダを開く
  1. "collection.media"と 、いくつかの"単語帳名.media"と名づけられたフォルダがあることを確認します
  1. 最初の "単語帳名.media"フォルダを開き、
  1. すべてのファイルを選択します（ショートカットキーは、「Ctrl＋A」です）
  1. 右クリックから、「コピー」を選択
  1. 戻って"collection.media"フォルダを開き
  1. 右クリックから、「貼り付け」を選択
  1. 全てのファイルの移動が完了するまで待ちます
  1. 他の "単語帳名.media"フォルダでも、手順4〜8を繰り返します
  1. すべてのメディアファイルが "collection.media"フォルダに移動したことを確認します
  1. オプション： "単語帳名.media"フォルダは、AnkiDroid2.0では使用しませんので、ファイルを移動した後は空の"単語帳名.media"フォルダは削除しても構いません。

注：この方法では、同じ名前のメディアファイルを扱うことができません。そのような状況では、方法1、オプション1に従うことが必要です。または、ファイル名を変更して保管して、単語帳側での使用ファイル名を修正する方法もあります。 いずれの方法でも、メディアファイルは必ずバックアップをとってから実施してください。

# 旧のAnkiDroid1.xを使用し続ける方法

パソコンが使用できない場合には、とりあえず古いAnkiDroid1.0を使うことができます。

次のリンクからのAnkiDroid 1.1.3パラレルバージョンをインストールしてください。AnkiDroid2と共にAnkiDroid1.1.3を使用し続けることができます。[こちら](http://code.google.com/p/ankidroid/downloads/detail?name=AnkiDroid-1.1.3_parallel.apk)をインストールしてください。AnkiDroid2と共にAnkiDroid1.1.3を使用し続けることができます。
ただし、申し訳ありませんが、AnkiDroid1.xは、バグ修正とはサポートされなくなります。
また、古いバージョンのAnkiDroid1.xでは同期機能も使用できませんので、ご注意ください。（古いAnkiWeb1サイトは既に利用できなくなりました）

新しいAnkiDroid2の使い方を覚えるのに、多少の時間を必要とするかもしれませんが、ぜひ新しい機能を満載したAnkiDroid2をお使いください。
さまざまな学習機能や、単語帳の作成、効率的な単語帳の管理、カードの管理は学習効率を高めるものです。